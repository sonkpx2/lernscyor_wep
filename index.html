<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" type="image/x-icon" href="wallpaperflare.com_wallpaper.jpg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฏููู ุฃูู ุงูููุจ: SOP, CORS, CSP</title>

</head>
<body>

<header>
    <h1>ุฏููู ุฃูู ุงููุชุตูุญุงุช </h1>
    <p>ุดุฑุญ ุชูุตููู ูู SOP, CORS, CSP ูุน ุฃูุซูุฉ ุนูููุฉ ููุญุงูุงุฉ ูููุฌูุงุช</p>
</header>

<nav>
    <a href="#sop">SOP</a>
    <a href="#cors">CORS</a>
    <a href="#csp">CSP</a>
    <a href="#quiz">ุงุฎุชุจุงุฑ (Quiz)</a>
</nav>

<div class="container">

    <section id="sop" class="card">
        <h2>1. Same-Origin Policy (SOP)</h2>
        <p><strong>ุงูุชุนุฑูู:</strong> ูู ุณูุงุณุฉ ุฃูููุฉ ุฃุณุงุณูุฉ ูู ุงููุชุตูุญุงุช ุชููุน ููุฏ JavaScript ูู ุตูุญุฉ ููุจ ูู ุงููุตูู ุฅูู ุจูุงูุงุช ุตูุญุฉ ุฃุฎุฑู ุฅุฐุง ูุงูุชุง ูู "ุฃุตู" (Origin) ูุฎุชูู.</p>
        
        <h3>ูุง ูู ุงูู "Origin"ุ</h3>
        <p>ูุชููู ุงูุฃุตู ูู ุซูุงุซุฉ ุฃุฌุฒุงุก ูุฌุชูุนุฉ:</p>
        <ul>
            <li>ุงูุจุฑูุชูููู (Protocol): ูุซู <code>http</code> ุฃู <code>https</code></li>
            <li>ุงููุถูู (Host/Domain): ูุซู <code>google.com</code></li>
            <li>ุงููููุฐ (Port): ูุซู <code>80</code>, <code>443</code>, <code>8080</code></li>
        </ul>

        <div class="interactive-box">
            <h4>๐๏ธ ุฃุฏุงุฉ ูุญุต ุงูุฃุตู (Interactive Simulation)</h4>
            <p>ุฃุฏุฎู ุฑุงุจุทูู ูุชุนุฑู ูู ูุนุชุจุฑููุง ุงููุชุตูุญ Same-Origin ุฃู ูุง:</p>
            <input type="text" id="url1" value="https://example.com/page1" style="width: 40%;">
            <input type="text" id="url2" value="http://example.com/page2" style="width: 40%;">
            <button onclick="checkSOP()">ุชุญูู</button>
            <div id="sop-result" class="result-box"></div>
        </div>

        <h3>ููุงุฐุง ูุญุชุงุฌ SOPุ (ุงูุณุจุจ ุงูุฃููู)</h3>
        <p>ุจุฏูู SOPุ ุฅุฐุง ููุช ุจูุชุญ ูููุน ุฎุจูุซ (malicious.com) ูุฃูุช ูุณุฌู ุฏุฎูู ูู ููุณุจูู ูู ุชุจููุจ ุขุฎุฑ:</p>
        <div class="vuln-alert">
            <strong>ุงูุณููุงุฑูู ุงููุงุฑุซู:</strong> ูููู ูููููุน ุงูุฎุจูุซ ูุฑุงุกุฉ ุฑุณุงุฆูู ุงูุฎุงุตุฉ ูู ููุณุจูู ุจุงุณุชุฎุฏุงู AJAX/Fetch ูุฃู ุงููุชุตูุญ ูุฑุณู ุงูููููุฒ ุชููุงุฆูุงู. ุงูู SOP ูููุน ูุฐุง ุงูุณููู ุงูุชุฑุงุถูุงู.
        </div>
    </section>

    <section id="cors" class="card">
        <h2>2. Cross-Origin Resource Sharing (CORS)</h2>
        <p><strong>ุงูุชุนุฑูู:</strong> ูู ุขููุฉ ุชุณูุญ ููุฎุงุฏู (Server) ุจุชุญุฏูุฏ ูู ููุณูุญ ูู ุจุงููุตูู ุฅูู ููุงุฑุฏู ูู ุฃุตูู (Origins) ุฃุฎุฑู. ูู ุจุจุณุงุทุฉ "ุงุณุชุซูุงุก" ููุงุนุฏุฉ SOP.</p>

        <h3>ููู ูุนูู CORSุ</h3>
        <p>ุนูุฏูุง ูุทูุจ ุงููุชุตูุญ ุจูุงูุงุช ูู ุฏูููู ุขุฎุฑุ ูุถูู ุงููุชุตูุญ ุชููุงุฆูุงู ููุฏุฑ: <code>Origin: https://my-site.com</code>.
        ูุฌุจ ุฃู ูุฑุฏ ุงูุณูุฑูุฑ ุจู: <code>Access-Control-Allow-Origin: https://my-site.com</code>.</p>

        <h3>ุฃูุซูุฉ ุจุฑูุฌูุฉ (Node.js/Express)</h3>

        <h4>โ ูุซุงู 1: ุงูุชูููู ุงูุฎุทูุฑ (Vulnerable Configuration)</h4>
        <pre>
app.use((req, res, next) => {
    // ุฎุทูุฑ ุฌุฏุงู! ูุณูุญ ูุฃู ูููุน ูู ุงูุนุงูู ุจูุฑุงุกุฉ ุจูุงูุงุชู
    res.header("Access-Control-Allow-Origin", "*"); 
    res.header("Access-Control-Allow-Credentials", "true"); // ูุฐุง ุงูุชุฑููุจ ุบุงูุจุงู ูุง ูุนูู ููููู ููุถุญ ุงูููุฉ
    next();
});
        </pre>
        <div class="vuln-alert">
            <strong>ุงูุซุบุฑุฉ:</strong> ุงูุณูุงุญ ูููู <code>*</code> ูุนูู ุฃู ุฃู ูููุน ุฎุจูุซ ููููู ุงุณุชุฏุนุงุก ุงูู API ุงูุฎุงุต ุจู ูุณุฑูุฉ ุงูุจูุงูุงุช ุฅุฐุง ูุงูุช ุนุงูุฉ.
        </div>

        <h4>โ ูุซุงู 2: ุงูุชูููู ุงูุตุญูุญ (Secure Configuration)</h4>
        <pre>
const whitelist = ['https://trusted-site.com', 'https://partner.com'];
const corsOptions = {
  origin: function (origin, callback) {
    if (whitelist.indexOf(origin) !== -1 || !origin) {
      callback(null, true)
    } else {
      callback(new Error('Not allowed by CORS'))
    }
  }
}
app.use(cors(corsOptions));
        </pre>

        <h3>ูุญุงูุงุฉ ุทูุจ CORS</h3>
        <div class="interactive-box">
            <p>ุชุฎูู ุฃูู ูู ูููุน <code>my-bank.com</code> ูุชุญุงูู ุทูุจ API ูู ุณูุฑูุฑ ุขุฎุฑ.</p>
            <label>ุฅุนุฏุงุฏุงุช ุงูุณูุฑูุฑ (Access-Control-Allow-Origin):</label>
            <select id="server-cors-setting">
                <option value="*">Allow All (*)</option>
                <option value="https://my-bank.com">https://my-bank.com (Match)</option>
                <option value="https://google.com">https://google.com (Mismatch)</option>
            </select>
            <button onclick="simulateCORS()">ุฃุฑุณู ุงูุทูุจ (Fetch)</button>
            <div id="cors-result" class="result-box"></div>
        </div>
    </section>

    <section id="csp" class="card">
        <h2>3. Content Security Policy (CSP)</h2>
        <p><strong>ุงูุชุนุฑูู:</strong> ุทุจูุฉ ุญูุงูุฉ ุฅุถุงููุฉ ุชุณุงุนุฏ ูู ุงูุชุดุงู ูุชูููู ุฃููุงุน ูุนููุฉ ูู ุงููุฌูุงุชุ ุฃุจุฑุฒูุง Cross-Site Scripting (XSS) ูุญูู ุงูุจูุงูุงุช.</p>
        <p>ูููู ุงูุฎุงุฏู ุจุฅุฑุณุงู ููุฏุฑ <code>Content-Security-Policy</code> ููุฎุจุฑ ุงููุชุตูุญ: "ูุง ุชูู ุจุชุญููู ุฃู ุณูุฑุจุช ุฃู ุตูุฑุฉ ุฅูุง ูู ูุฐู ุงููุตุงุฏุฑ ููุท".</p>

        <h3>ุฃูููุฉ CSP ูู ุงูููุงูุฉ ูู XSS</h3>
        <p>ุฅุฐุง ูุฌุญ ุงููุงูุฑ ูู ุญูู ููุฏ ุฎุจูุซ ูู ูููุนู (ูุซู: <code>&lt;script&gt;stealCookies()&lt;/script&gt;</code>)ุ ูุฅู ุงูู CSP ุณูููุน ุงููุชุตูุญ ูู ุชูููุฐ ูุฐุง ุงูููุฏ ูุฃูู ููุณ ูู ุงููุงุฆูุฉ ุงูุจูุถุงุก.</p>

        <h3>ุฃูุซูุฉ ุนูููุฉ (Header Example)</h3>
        <pre>
Content-Security-Policy: default-src 'self'; script-src 'self' https://trusted-apis.com; img-src *;
        </pre>
        <ul>
            <li><code>default-src 'self'</code>: ุงุณูุญ ุจูู ุดูุก ูู ููุณ ุงูุฏูููู ููุท.</li>
            <li><code>script-src ...</code>: ุงุณูุญ ุจูููุงุช JS ูู ููุณ ุงูุฏูููู ููู trusted-apis.com ููุท.</li>
            <li><code>img-src *</code>: ุงุณูุญ ุจุงูุตูุฑ ูู ุฃู ููุงู.</li>
        </ul>

        <div class="interactive-box">
            <h4>๐ก๏ธ ูุญุงูุงุฉ ูุฌูู XSS ูุน CSP</h4>
            <p>ุญุงูู ุญูู ุณูุฑุจุช. ุณููุชุฑุถ ุฃููุง ูููุง ุจุชูุนูู ุณูุงุณุฉ: <code>script-src 'self'</code> (ุชููุน ุงูุณูุฑุจุชุงุช ุงูุฏุงุฎููุฉ inline).</p>
            
            <div style="margin-bottom: 10px;">
                <label><input type="checkbox" id="csp-toggle"> ุชูุนูู CSP (Block Inline Scripts)</label>
            </div>
            
            <textarea id="xss-input" rows="3" style="width:90%"><img src=x onerror=alert('XSS_Attack_Successful!')></textarea>
            <button onclick="simulateXSS()">ุญูู ุงูููุฏ (Inject)</button>
            
            <div id="page-content" style="border:1px solid #555; padding:10px; margin-top:10px; min-height:50px;">
                ูุญุชูู ุงูุตูุญุฉ...
            </div>
            <div id="csp-log" class="result-box"></div>
        </div>
    </section>

    <section id="quiz" class="card">
        <h2>ุงุฎุชุจุฑ ูุนูููุงุชู (Security Quiz)</h2>
        <div id="quiz-container">
            </div>
        <button onclick="submitQuiz()" style="margin-top: 20px; width: 100%;">ุนุฑุถ ุงููุชูุฌุฉ</button>
        <div id="quiz-score" class="result-box" style="text-align: center; font-size: 1.2rem;"></div>
    </section>

</div>

<script src="main.js"></script>

</body>
</html>
